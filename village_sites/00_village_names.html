<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Village List - Archive of Afrin</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- Font for English Title and Body Text -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Font for Arabic Title -->
    <link href="https://fonts.googleapis.com/css2?family=Scheherazade+New:wght@400;700&display=swap" rel="stylesheet">
    
    <style>


    /* Search functionality styles */
    .search-wrapper { 
    display: flex; 
    flex-direction: row; 
    gap: 15px; 
    align-items: flex-start; 
    justify-content: center; 
    margin-bottom: 30px;
    position: relative;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
}

.search-input { 
    flex: 1;
    padding: 16px 22px; 
    border: 2px solid var(--village-border); 
    border-radius: 6px; 
    font-size: 16px; 
    background-color: var(--white-bg); 
    transition: all 0.3s ease; 
    font-family: 'Inter', sans-serif; 
    color: var(--text-color); 
    box-shadow: 0 2px 8px rgba(0,0,0,0.05); 
    box-sizing: border-box; 
}

.search-input:focus { 
    outline: none; 
    border-color: var(--green-color); 
    box-shadow: 0 2px 12px rgba(0, 154, 61, 0.15); 
}

.search-input::placeholder { color: var(--subtext-color); }

.search-button { 
    background-color: var(--green-color); 
    color: var(--bg-color); 
    border: none; 
    padding: 18px 32px; 
    border-radius: 6px; 
    cursor: pointer; 
    font-size: 18px; 
    transition: all 0.3s ease; 
    font-family: 'Inter', sans-serif; 
    font-weight: 500; 
    white-space: nowrap;
    box-sizing: border-box; 
}

.search-button:hover { 
    background-color: var(--brown-color); 
}

.search-results {
    position: absolute;
    top: 100%;
    left: 0;
    width: 100%;
    background-color: var(--white-bg);
    border: 2px solid var(--village-border);
    border-top: none;
    border-radius: 0 0 6px 6px;
    max-height: 300px;
    overflow-y: auto;
    z-index: 1000;
    display: none;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

    .search-result-item {
        padding: 12px 16px;
        cursor: pointer;
        border-bottom: 1px solid var(--village-border);
        transition: background-color 0.2s ease;
    }

    .search-result-item:hover {
        background-color: var(--village-bg);
    }

    .search-result-item:last-child {
        border-bottom: none;
    }

    .search-result-title {
        font-weight: 500;
        color: var(--text-color);
        margin-bottom: 2px;
    }

    .search-result-subtitle {
        font-size: 12px;
        color: var(--subtext-color);
    }

    .see-more-button {
        width: 100%;
        padding: 8px;
        background-color: var(--village-bg);
        border: none;
        border-top: 1px solid var(--village-border);
        cursor: pointer;
        color: var(--brown-color);
        font-weight: 500;
        transition: background-color 0.2s ease;
    }

    .see-more-button:hover {
        background-color: var(--brown-color);
        color: white;
    }

    /* Search Results Page */
    .search-results-page {
        display: none;
        min-height: 100vh;
        padding: 40px;
        background-color: var(--bg-color);
        background-image: url('images/background2.png');
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        background-attachment: fixed;
    }

    .dark .search-results-page {
        background-color: var(--bg-color);
    }

    .search-results-container {
        max-width: 1200px;
        margin: 0 auto;
    }

    .search-results-header {
        display: flex;
        align-items: center;
        gap: 20px;
        margin-bottom: 40px;
        flex-wrap: wrap;
    }

.back-button {
    background-color: var(--green-color);
    color: var(--bg-color);
    border: none;
    padding: 20px 40px;
    border-radius: 8px;
    cursor: pointer;
    font-family: 'Inter', sans-serif;
    font-weight: 700;
    font-size: 18px;
    transition: all 0.3s ease;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

    .back-button:hover {
        background-color: var(--brown-color);
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(0,0,0,0.2);
    }

    .search-results-title {
        font-size: 32px;
        font-weight: 700;
        color: var(--text-color);
        margin: 0;
    }

    .search-results-count {
        font-size: 16px;
        color: var(--subtext-color);
        margin-left: auto;
    }

    .search-results-list {
        display: flex;
        flex-direction: column;
        gap: 16px;
    }

    .search-result-card {
        background-color: var(--white-bg);
        border: 1px solid var(--village-border);
        border-radius: 8px;
        padding: 20px;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .search-result-card:hover {
        background-color: var(--village-bg);
        border-color: var(--green-color);
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .search-result-card-title {
        font-size: 20px;
        font-weight: 600;
        color: var(--link-color);
        margin-bottom: 8px;
    }

    .search-result-card-title:hover {
        text-decoration: underline;
    }

    .search-result-card-subtitle {
        font-size: 14px;
        color: var(--subtext-color);
        margin-bottom: 4px;
    }

    .search-result-card-description {
        font-size: 16px;
        color: var(--text-color);
        line-height: 1.4;
    }

    .match-highlight {
        font-weight: bold;
        background-color: #ffeb3b;
        padding: 1px 2px;
        border-radius: 2px;
    }

        /* Light theme variables */
        :root {
            --bg-color: #f7f5f3;
            --text-color: #3a3a3a;
            --border-color: #000000;
            --card-bg-color: #f7f5f3;
            --subtext-color: #8b7355;
            --link-color: #2563eb;
            --button-hover-bg: #000000;
            --button-hover-text: #f7f5f3;
            --internal-link-color: #2563eb;
            --green-color: #009A3D;
            --brown-color: #8b7355;
            --white-bg: rgba(255, 255, 255, 0.8);
            --nav-bg: rgba(0, 154, 61, 0.1);
            --village-bg: rgba(139, 115, 85, 0.1);
            --village-border: rgba(139, 115, 85, 0.2);
        }
        /* Dark theme variables */
        .dark {
            --bg-color: #2d2d2d;
            --text-color: #f1f1f1;
            --border-color: #555555;
            --card-bg-color: #2d2d2d;
            --subtext-color: #999999;
            --link-color: #63b3ed;
            --button-hover-bg: #f1f1f1;
            --button-hover-text: #2d2d2d;
            --internal-link-color: #86efac;
            --green-color: #86efac;
            --brown-color: #b8a082;
            --white-bg: rgba(45, 45, 45, 0.8);
            --nav-bg: rgba(134, 239, 172, 0.1);
            --village-bg: rgba(184, 160, 130, 0.1);
            --village-border: rgba(184, 160, 130, 0.2);
        }
        
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: var(--bg-color); 
            background-image: url('images/background2.png'); 
            background-size: cover; 
            background-position: center; 
            background-repeat: no-repeat; 
            background-attachment: fixed; 
            margin: 0; 
            padding: 0; 
            color: var(--text-color); 
            line-height: 1.6;
            transition: background-color 0.3s, color 0.3s;
        }
        
        .nahiya-nav {
            background: var(--nav-bg);
            padding: 25px;
            border-radius: 8px;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .nav-title {
            font-size: 20px;
            font-weight: 600;
            color: var(--green-color);
            margin-bottom: 20px;
        }
        
        .nav-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }
        
.nav-btn {
    background-color: var(--brown-color);
    color: var(--bg-color);
    border: none;
    padding: 10px 16px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 14px;
    font-weight: 500;
    transition: all 0.3s ease;
    font-family: 'Inter', sans-serif;
}
        
        .nav-btn:hover {
            background-color: var(--green-color);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 154, 61, 0.3);
        }
        
        .header-section { 
            background: linear-gradient(135deg, rgba(247, 245, 243, 0.95) 0%, rgba(242, 237, 231, 0.95) 100%); 
            padding: 40px 20px; 
            text-align: center; 
            border-bottom: 3px solid var(--green-color);
            position: relative;
        }
        
        .dark .header-section {
            background: linear-gradient(135deg, rgba(45, 45, 45, 0.95) 0%, rgba(60, 60, 60, 0.95) 100%);
        }
        
        .site-title-en { 
            font-size: 48px; 
            font-weight: 700; 
            color: var(--text-color); 
            margin-bottom: 0px; 
            letter-spacing: -1.5px; 
            line-height: 1.3; 
            font-family: 'Inter', sans-serif; 
            text-shadow: 0 1px 2px rgba(0,0,0,0.03); 
        }

        .site-title-ar { 
            font-size: 52px; 
            font-weight: 400; 
            color: var(--brown-color); 
            margin-top: -10px; 
            margin-bottom: 20px; 
            direction: rtl; 
            font-family: 'Scheherazade New', 'Amiri', 'Noto Naskh Arabic', 'Times New Roman', serif; 
            letter-spacing: 2px; 
            line-height: 1.8; 
        }
        
        .subtitle {
            font-size: 24px;
            color: var(--brown-color);
            font-weight: 500;
            margin-bottom: 20px;
        }
        
        .main-content {
            background: linear-gradient(135deg, rgba(247, 245, 243, 0.9) 0%, rgba(242, 237, 231, 0.9) 100%);
            padding: 40px 20px;
            min-height: 80vh;
        }
        
        .dark .main-content {
            background: linear-gradient(135deg, rgba(45, 45, 45, 0.9) 0%, rgba(60, 60, 60, 0.9) 100%);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .nahiya-section {
            background: var(--white-bg);
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            border-left: 5px solid var(--green-color);
        }
        
        .nahiya-title {
            font-size: 28px;
            font-weight: 700;
            color: var(--green-color);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--brown-color);
        }
        
        .villages-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .village-link {
            display: block;
            padding: 12px 18px;
            background-color: var(--village-bg);
            color: var(--text-color);
            text-decoration: none;
            border-radius: 6px;
            transition: all 0.3s ease;
            border: 1px solid var(--village-border);
            font-weight: 500;
        }
        
        .village-link:hover {
            background-color: var(--brown-color);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(139, 115, 85, 0.3);
        }
        
        .stats-bar {
            background: var(--nav-bg);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-number {
            font-size: 24px;
            font-weight: 700;
            color: var(--green-color);
        }
        
        .stat-label {
            font-size: 14px;
            color: var(--brown-color);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        /* Inverted colors for the theme toggle button */
        .toggle-button-colors {
            background-color: var(--text-color);
            color: var(--bg-color);
            border: 1px solid var(--border-color);
        }
        
        .theme-toggle-container {
            margin-top: 15px;
        }
        
        /* --- Responsive Styles --- */
        
        /* For tablets and large phones */
        @media (max-width: 768px) {
            .header-section, .main-content {
                padding-left: 15px;
                padding-right: 15px;
            }
            .site-title-en { font-size: 36px; }
            .site-title-ar { font-size: 40px; }
            .search-wrapper {
                flex-direction: column;
                align-items: stretch;
            }
            .stats-bar {
                flex-direction: column;
                gap: 15px;
                align-items: center;
            }
            .nahiya-title { font-size: 24px; }
            .villages-grid { grid-template-columns: 1fr; }
            .nahiya-section { padding: 20px; }
            .search-results-header { flex-direction: column; align-items: flex-start; }
            .back-button { width: 100%; text-align: center; }
        }

        /* For smaller mobile phones */
        @media (max-width: 480px) {
            .header-section {
                padding-top: 25px;
                padding-bottom: 25px;
            }
            .main-content {
                padding: 20px 10px;
            }
            .site-title-en { font-size: 28px; }
            .site-title-ar { font-size: 32px; }
            .stat-number { font-size: 20px; }
            .stat-label { font-size: 12px; }
            .nav-btn {
                width: 100%; /* Make nav buttons full width */
            }
            .nahiya-title { font-size: 22px; }
            .village-link { padding: 15px; }
        }

    </style>
</head>
<body>
    <div class="header-section">
        <h1 class="site-title-en">Archive of Afrin: Village Directory</h1>
        <h2 class="site-title-ar">أرشيف عفرين: دليل القرى</h2>
        <div class="theme-toggle-container">
            <button id="theme-toggle" class="toggle-button-colors p-2 rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2" style="--ring-offset-color: var(--card-bg-color); --ring-color: var(--border-color); padding: 8px; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center;">
                <svg id="theme-toggle-dark-icon" class="hidden h-6 w-6" style="width: 24px; height: 24px;" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg>
                <svg id="theme-toggle-light-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="hidden h-6 w-6" style="width: 24px; height: 24px;">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z" />
                </svg>
            </button>
        </div>
    </div>

    <div class="main-content">
        <div class="container">
            <div class="search-wrapper">
    <input type="text" id="search-input" class="search-input" placeholder="Search villages, people, places...">
    <div id="search-results" class="search-results"></div>
    <button class="search-button" onclick="showSearchResultsPage()">Search</button>
</div>
            <div class="stats-bar">
                <div class="stat-item">
                    <div class="stat-number">320</div>
                    <div class="stat-label">Villages</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">8</div>
                    <div class="stat-label">Nahiyas</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">Archive Status</div>
                    <div class="stat-label">In Research and Development Stage</div>
                </div>
            </div>
                    

            <div class="nahiya-nav">
                <h4 class="nav-title">Quick Navigation</h4>
                <div class="nav-buttons">
                    <button class="nav-btn" onclick="scrollToSection('bulbul')">Bulbul</button>
                    <button class="nav-btn" onclick="scrollToSection('jindires')">Jindires</button>
                    <button class="nav-btn" onclick="scrollToSection('mabatli')">Ma'batli</button>
                    <button class="nav-btn" onclick="scrollToSection('markaz')">Markaz</button>
                    <button class="nav-btn" onclick="scrollToSection('nubl')">Nubl</button>
                    <button class="nav-btn" onclick="scrollToSection('rajo')">Rajo</button>
                    <button class="nav-btn" onclick="scrollToSection('sharran')">Sharran</button>
                    <button class="nav-btn" onclick="scrollToSection('sheikhalhadid')">Sheikh al-Hadid</button>
                    <button class="nav-btn" onclick="scrollToSection('uncategorized')">Uncategorized</button>
                </div>
            </div>

                                    <div class="nahiya-section" id="bulbul">
                <h3 class="nahiya-title">Bulbul</h3>
                <div class="villages-grid">
                    <a href="Baliya.html" target="_blank" class="village-link">Baliya</a>
                    <a href="Baxaşê.html" target="_blank" class="village-link">Baxaşê</a>
                    <a href="Berkaşê.html" target="_blank" class="village-link">Berkaşê</a>
                    <a href="Bilbilê.html" target="_blank" class="village-link">Bilbilê</a>
                    <a href="Bêkê.html" target="_blank" class="village-link">Bêkê</a>
                    <a href="Bêlê.html" target="_blank" class="village-link">Bêlê</a>
                    <a href="Bêxçe.html" target="_blank" class="village-link">Bêxçe</a>
                    <a href="Bîbaka.html" target="_blank" class="village-link">Bîbaka</a>
                    <a href="Cirqa.html" target="_blank" class="village-link">Cirqa</a>
                    <a href="Dîkê.html" target="_blank" class="village-link">Dîkê</a>
                    <a href="Elcara.html" target="_blank" class="village-link">Elcara</a>
                    <a href="Eli Kera.html" target="_blank" class="village-link">Eli Kera</a>
                    <a href="Elî Bego.html" target="_blank" class="village-link">Elî Bego</a>
                    <a href="Eşûnê.html" target="_blank" class="village-link">Eşûnê</a>
                    <a href="Heyama (1).html" target="_blank" class="village-link">Heyama</a>
                    <a href="Heyama.html" target="_blank" class="village-link">Heyama</a>
                    <a href="Kerê.html" target="_blank" class="village-link">Kerê</a>
                    <a href="Kotana.html" target="_blank" class="village-link">Kotana</a>
                    <a href="Kurdo.html" target="_blank" class="village-link">Kurdo</a>
                    <a href="Kurzêl.html" target="_blank" class="village-link">Kurzêl</a>
                    <a href="Kêla.html" target="_blank" class="village-link">Kêla</a>
                    <a href="Qarşiqa.html" target="_blank" class="village-link">Qarşiqa</a>
                    <a href="Qaşa.html" target="_blank" class="village-link">Qaşa</a>
                    <a href="Qestelê Miqdêd.html" target="_blank" class="village-link">Qestelê Miqdêd</a>
                    <a href="Qiri Golê.html" target="_blank" class="village-link">Qiri Golê</a>
                    <a href="Qizilbaşa.html" target="_blank" class="village-link">Qizilbaşa</a>
                    <a href="Qornê.html" target="_blank" class="village-link">Qornê</a>
                    <a href="Qorta.html" target="_blank" class="village-link">Qorta</a>
                    <a href="Qota.html" target="_blank" class="village-link">Qota</a>
                    <a href="Si'iriya.html" target="_blank" class="village-link">Si'iriya</a>
                    <a href="Topel Meĥmûd.html" target="_blank" class="village-link">Topel Meĥmûd</a>
                    <a href="Uga.html" target="_blank" class="village-link">Uga</a>
                    <a href="Xelîlaka.html" target="_blank" class="village-link">Xelîlaka</a>
                    <a href="Xidiriya.html" target="_blank" class="village-link">Xidiriya</a>
                    <a href="Xilalka.html" target="_blank" class="village-link">Xilalka</a>
                    <a href="Ze'rê.html" target="_blank" class="village-link">Ze'rê</a>
                    <a href="Zivingê.html" target="_blank" class="village-link">Zivingê</a>
                    <a href="Ĥazira.html" target="_blank" class="village-link">Ĥazira</a>
                    <a href="Ĥeftêr.html" target="_blank" class="village-link">Ĥeftêr</a>
                    <a href="Ĥesen Dêra.html" target="_blank" class="village-link">Ĥesen Dêra</a>
                    <a href="Şingêl.html" target="_blank" class="village-link">Şingêl</a>
                    <a href="Şêrqiya.html" target="_blank" class="village-link">Şêrqiya</a>
                </div>
            </div>

            <div class="nahiya-section" id="jindires">
                <h3 class="nahiya-title">Jindires</h3>
                <div class="villages-grid">
                    <a href="Abû Ke'bê Xerbî.html" target="_blank" class="village-link">Abû Ke'bê Xerbî</a>
                    <a href="Axcelê.html" target="_blank" class="village-link">Axcelê</a>
                    <a href="Aşkê Xerbî.html" target="_blank" class="village-link">Aşkê Xerbî</a>
                    <a href="Aşkê Şerqî.html" target="_blank" class="village-link">Aşkê Şerqî</a>
                    <a href="Baflor.html" target="_blank" class="village-link">Baflor</a>
                    <a href="Bircikê.html" target="_blank" class="village-link">Bircikê</a>
                    <a href="Celemê.html" target="_blank" class="village-link">Celemê</a>
                    <a href="Cindirês.html" target="_blank" class="village-link">Cindirês</a>
                    <a href="Dêrbelûtê.html" target="_blank" class="village-link">Dêrbelûtê</a>
                    <a href="Dêwê Jorin.html" target="_blank" class="village-link">Dêwê Jorin</a>
                    <a href="Dêwê Jêrin.html" target="_blank" class="village-link">Dêwê Jêrin</a>
                    <a href="Enderiyê.html" target="_blank" class="village-link">Enderiyê</a>
                    <a href="Feqîra.html" target="_blank" class="village-link">Feqîra</a>
                    <a href="Firêriyê.html" target="_blank" class="village-link">Firêriyê</a>
                    <a href="Gewrika.html" target="_blank" class="village-link">Gewrika</a>
                    <a href="Gorda (1).html" target="_blank" class="village-link">Gorda</a>
                    <a href="Gorda.html" target="_blank" class="village-link">Gorda</a>
                    <a href="Hêkiçê.html" target="_blank" class="village-link">Hêkiçê</a>
                    <a href="Kefersefrê.html" target="_blank" class="village-link">Kefersefrê</a>
                    <a href="Kora.html" target="_blank" class="village-link">Kora</a>
                    <a href="Medaya.html" target="_blank" class="village-link">Medaya</a>
                    <a href="Mehmediyê Xerbî.html" target="_blank" class="village-link">Mehmediyê Xerbî</a>
                    <a href="Mehmediyê Şerqî.html" target="_blank" class="village-link">Mehmediyê Şerqî</a>
                    <a href="Merwanê Jerin.html" target="_blank" class="village-link">Merwanê Jerin</a>
                    <a href="Merwanê Jorin.html" target="_blank" class="village-link">Merwanê Jorin</a>
                    <a href="Miske Jerin.html" target="_blank" class="village-link">Miske Jerin</a>
                    <a href="Miskê Jorin.html" target="_blank" class="village-link">Miskê Jorin</a>
                    <a href="Qujûma.html" target="_blank" class="village-link">Qujûma</a>
                    <a href="Qulkê.html" target="_blank" class="village-link">Qulkê</a>
                    <a href="Qurbê.html" target="_blank" class="village-link">Qurbê</a>
                    <a href="Qîlê.html" target="_blank" class="village-link">Qîlê</a>
                    <a href="Remadiyê.html" target="_blank" class="village-link">Remadiyê</a>
                    <a href="Remedena.html" target="_blank" class="village-link">Remedena</a>
                    <a href="Rif'etiyê.html" target="_blank" class="village-link">Rif'etiyê</a>
                    <a href="Sindiyankê.html" target="_blank" class="village-link">Sindiyankê</a>
                    <a href="Tetera.html" target="_blank" class="village-link">Tetera</a>
                    <a href="Til Ĥemo.html" target="_blank" class="village-link">Til Ĥemo</a>
                    <a href="Tilsilorê.html" target="_blank" class="village-link">Tilsilorê</a>
                    <a href="Xeltê Xerbî.html" target="_blank" class="village-link">Xeltê Xerbî</a>
                    <a href="Xeltê Şerqî.html" target="_blank" class="village-link">Xeltê Şerqî</a>
                    <a href="Xerza.html" target="_blank" class="village-link">Xerza</a>
                    <a href="Yalanqozê.html" target="_blank" class="village-link">Yalanqozê</a>
                    <a href="Çeqelê Cûmê.html" target="_blank" class="village-link">Çeqelê Cûmê</a>
                    <a href="Çobana.html" target="_blank" class="village-link">Çobana</a>
                    <a href="Çolaqa.html" target="_blank" class="village-link">Çolaqa</a>
                    <a href="Ĥec Îskenderê.html" target="_blank" class="village-link">Ĥec Îskenderê</a>
                    <a href="Ĥecîler.html" target="_blank" class="village-link">Ĥecîler</a>
                    <a href="Ĥemamê.html" target="_blank" class="village-link">Ĥemamê</a>
                    <a href="Ĥemêlkê.html" target="_blank" class="village-link">Ĥemêlkê</a>
                    <a href="Ĥesîrkê.html" target="_blank" class="village-link">Ĥesîrkê</a>
                    <a href="Şêx Ebdirehmên.html" target="_blank" class="village-link">Şêx Ebdirehmên</a>
                </div>
            </div>

            <div class="nahiya-section" id="mabatli">
                <h3 class="nahiya-title">Ma'batli</h3>
                <div class="villages-grid">
                    <a href="Avraz.html" target="_blank" class="village-link">Avraz</a>
                    <a href="Birka.html" target="_blank" class="village-link">Birka</a>
                    <a href="Birîmce.html" target="_blank" class="village-link">Birîmce</a>
                    <a href="Dargirê.html" target="_blank" class="village-link">Dargirê</a>
                    <a href="Dela.html" target="_blank" class="village-link">Dela</a>
                    <a href="Emara.html" target="_blank" class="village-link">Emara</a>
                    <a href="Ereba.html" target="_blank" class="village-link">Ereba</a>
                    <a href="Gemrûkê.html" target="_blank" class="village-link">Gemrûkê</a>
                    <a href="Gobekê.html" target="_blank" class="village-link">Gobekê</a>
                    <a href="Kaxrê.html" target="_blank" class="village-link">Kaxrê</a>
                    <a href="Kokanê Jorin.html" target="_blank" class="village-link">Kokanê Jorin</a>
                    <a href="Kokanê Jêrin.html" target="_blank" class="village-link">Kokanê Jêrin</a>
                    <a href="Kurkê Jorin.html" target="_blank" class="village-link">Kurkê Jorin</a>
                    <a href="Kurkê Jêrin.html" target="_blank" class="village-link">Kurkê Jêrin</a>
                    <a href="Kêl Îbo.html" target="_blank" class="village-link">Kêl Îbo</a>
                    <a href="Mabeta.html" target="_blank" class="village-link">Mabeta</a>
                    <a href="Me'serkê.html" target="_blank" class="village-link">Me'serkê</a>
                    <a href="Mist'eşûra.html" target="_blank" class="village-link">Mist'eşûra</a>
                    <a href="Mîrka.html" target="_blank" class="village-link">Mîrka</a>
                    <a href="Omo.html" target="_blank" class="village-link">Omo</a>
                    <a href="Qenterê.html" target="_blank" class="village-link">Qenterê</a>
                    <a href="Qitraniyê.html" target="_blank" class="village-link">Qitraniyê</a>
                    <a href="Reca.html" target="_blank" class="village-link">Reca</a>
                    <a href="Rûta.html" target="_blank" class="village-link">Rûta</a>
                    <a href="Sariya.html" target="_blank" class="village-link">Sariya</a>
                    <a href="Satiya.html" target="_blank" class="village-link">Satiya</a>
                    <a href="Selo.html" target="_blank" class="village-link">Selo</a>
                    <a href="Sêmalka.html" target="_blank" class="village-link">Sêmalka</a>
                    <a href="Sêwiya.html" target="_blank" class="village-link">Sêwiya</a>
                    <a href="Xaziyanê Jorin.html" target="_blank" class="village-link">Xaziyanê Jorin</a>
                    <a href="Xazyanê Jêrin.html" target="_blank" class="village-link">Xazyanê Jêrin</a>
                    <a href="Xirabî Rûtê.html" target="_blank" class="village-link">Xirabî Rûtê</a>
                    <a href="Çomazna.html" target="_blank" class="village-link">Çomazna</a>
                    <a href="Ên' Ĥecer.html" target="_blank" class="village-link">Ên' Ĥecer</a>
                    <a href="Ĥebo.html" target="_blank" class="village-link">Ĥebo</a>
                    <a href="Ĥec Qasma.html" target="_blank" class="village-link">Ĥec Qasma</a>
                    <a href="Ĥeyatê.html" target="_blank" class="village-link">Ĥeyatê</a>
                    <a href="Şorbe.html" target="_blank" class="village-link">Şorbe</a>
                    <a href="Şêtana.html" target="_blank" class="village-link">Şêtana</a>
                    <a href="Şêx Kêlê.html" target="_blank" class="village-link">Şêx Kêlê</a>
                </div>
            </div>

            <div class="nahiya-section" id="markaz">
                <h3 class="nahiya-title">Markaz</h3>
                <div class="villages-grid">
                    <a href="Aqîbê.html" target="_blank" class="village-link">Aqîbê</a>
                    <a href="Astêr.html" target="_blank" class="village-link">Astêr</a>
                    <a href="Ayn Majnoun.html" target="_blank" class="village-link">Ayn Majnoun</a>
                    <a href="Bablîtê.html" target="_blank" class="village-link">Bablîtê</a>
                    <a href="Basilê.html" target="_blank" class="village-link">Basilê</a>
                    <a href="Basûfanê.html" target="_blank" class="village-link">Basûfanê</a>
                    <a href="Basûtê.html" target="_blank" class="village-link">Basûtê</a>
                    <a href="Beradê.html" target="_blank" class="village-link">Beradê</a>
                    <a href="Bi'îyê.html" target="_blank" class="village-link">Bi'îyê</a>
                    <a href="Birc Ĥêderê.html" target="_blank" class="village-link">Birc Ĥêderê</a>
                    <a href="Bircikê Silêmên.html" target="_blank" class="village-link">Bircikê Silêmên</a>
                    <a href="Bircê.html" target="_blank" class="village-link">Bircê</a>
                    <a href="Bozikê.html" target="_blank" class="village-link">Bozikê</a>
                    <a href="Bênê.html" target="_blank" class="village-link">Bênê</a>
                    <a href="Cidêdê.html" target="_blank" class="village-link">Cidêdê</a>
                    <a href="Cilbirê.html" target="_blank" class="village-link">Cilbirê</a>
                    <a href="Coqê.html" target="_blank" class="village-link">Coqê</a>
                    <a href="Cûmkê.html" target="_blank" class="village-link">Cûmkê</a>
                    <a href="Dêrmişmiş.html" target="_blank" class="village-link">Dêrmişmiş</a>
                    <a href="Efrîn.html" target="_blank" class="village-link">Efrîn</a>
                    <a href="Fafirtîn.html" target="_blank" class="village-link">Fafirtîn</a>
                    <a href="Gazê.html" target="_blank" class="village-link">Gazê</a>
                    <a href="Gobelê.html" target="_blank" class="village-link">Gobelê</a>
                    <a href="Inabkê.html" target="_blank" class="village-link">Inabkê</a>
                    <a href="Keferbetrê.html" target="_blank" class="village-link">Keferbetrê</a>
                    <a href="Keferdelê Jorin.html" target="_blank" class="village-link">Keferdelê Jorin</a>
                    <a href="Keferdelê Jêrîn.html" target="_blank" class="village-link">Keferdelê Jêrîn</a>
                    <a href="Kefermizê.html" target="_blank" class="village-link">Kefermizê</a>
                    <a href="Kefernebo.html" target="_blank" class="village-link">Kefernebo</a>
                    <a href="Keferzîtê.html" target="_blank" class="village-link">Keferzîtê</a>
                    <a href="Keferşîlê.html" target="_blank" class="village-link">Keferşîlê</a>
                    <a href="Kersanê.html" target="_blank" class="village-link">Kersanê</a>
                    <a href="Kifêrê.html" target="_blank" class="village-link">Kifêrê</a>
                    <a href="Kokebê.html" target="_blank" class="village-link">Kokebê</a>
                    <a href="Kurzêlê.html" target="_blank" class="village-link">Kurzêlê</a>
                    <a href="Kîbêşînê.html" target="_blank" class="village-link">Kîbêşînê</a>
                    <a href="Kîmarê.html" target="_blank" class="village-link">Kîmarê</a>
                    <a href="Maratê.html" target="_blank" class="village-link">Maratê</a>
                    <a href="Me'riskê.html" target="_blank" class="village-link">Me'riskê</a>
                    <a href="Mezin.html" target="_blank" class="village-link">Mezin</a>
                    <a href="Mosankî.html" target="_blank" class="village-link">Mosankî</a>
                    <a href="Mêremînê.html" target="_blank" class="village-link">Mêremînê</a>
                    <a href="Pitêtê.html" target="_blank" class="village-link">Pitêtê</a>
                    <a href="Qarsaq.html" target="_blank" class="village-link">Qarsaq</a>
                    <a href="Qîbar.html" target="_blank" class="village-link">Qîbar</a>
                    <a href="Soĝanekê.html" target="_blank" class="village-link">Soĝanekê</a>
                    <a href="Tilifê.html" target="_blank" class="village-link">Tilifê</a>
                    <a href="Tirtewîlê.html" target="_blank" class="village-link">Tirtewîlê</a>
                    <a href="Turindê.html" target="_blank" class="village-link">Turindê</a>
                    <a href="Xalta.html" target="_blank" class="village-link">Xalta</a>
                    <a href="Xelnêrê.html" target="_blank" class="village-link">Xelnêrê</a>
                    <a href="Xezîwê.html" target="_blank" class="village-link">Xezîwê</a>
                    <a href="Xurêbkê.html" target="_blank" class="village-link">Xurêbkê</a>
                    <a href="Zaretê.html" target="_blank" class="village-link">Zaretê</a>
                    <a href="Zirêgatê.html" target="_blank" class="village-link">Zirêgatê</a>
                    <a href="Îska.html" target="_blank" class="village-link">Îska</a>
                    <a href="Şadêrê.html" target="_blank" class="village-link">Şadêrê</a>
                    <a href="Şewarxa.html" target="_blank" class="village-link">Şewarxa</a>
                </div>
            </div>

            <div class="nahiya-section" id="nubl">
                <h3 class="nahiya-title">Nubl</h3>
                <div class="villages-grid">
                    <a href="Başemrê.html" target="_blank" class="village-link">Başemrê</a>
                    <a href="Bircilqazê.html" target="_blank" class="village-link">Bircilqazê</a>
                    <a href="Kilotê.html" target="_blank" class="village-link">Kilotê</a>
                    <a href="Meyasê.html" target="_blank" class="village-link">Meyasê</a>
                    <a href="Xirabî Şêx 'Eqîl.html" target="_blank" class="village-link">Xirabî Şêx 'Eqîl</a>
                    <a href="Zirenîtê.html" target="_blank" class="village-link">Zirenîtê</a>
                </div>
            </div>

            <div class="nahiya-section" id="rajo">
                <h3 class="nahiya-title">Rajo</h3>
                <div class="villages-grid">
                    <a href="Banîkê.html" target="_blank" class="village-link">Banîkê</a>
                    <a href="Be'dîna.html" target="_blank" class="village-link">Be'dîna</a>
                    <a href="Berbenê.html" target="_blank" class="village-link">Berbenê</a>
                    <a href="Bilêlko.html" target="_blank" class="village-link">Bilêlko</a>
                    <a href="Cela.html" target="_blank" class="village-link">Cela</a>
                    <a href="Dodo.html" target="_blank" class="village-link">Dodo</a>
                    <a href="Dumilya.html" target="_blank" class="village-link">Dumilya</a>
                    <a href="Dêwrîş.html" target="_blank" class="village-link">Dêwrîş</a>
                    <a href="Edema.html" target="_blank" class="village-link">Edema</a>
                    <a href="Elbîskê.html" target="_blank" class="village-link">Elbîskê</a>
                    <a href="Elendara.html" target="_blank" class="village-link">Elendara</a>
                    <a href="Eltaniya.html" target="_blank" class="village-link">Eltaniya</a>
                    <a href="Ereblî.html" target="_blank" class="village-link">Ereblî</a>
                    <a href="Etmana.html" target="_blank" class="village-link">Etmana</a>
                    <a href="Firfirkê Jêrin.html" target="_blank" class="village-link">Firfirkê Jêrin</a>
                    <a href="Gewenda.html" target="_blank" class="village-link">Gewenda</a>
                    <a href="Goliyê Jorin.html" target="_blank" class="village-link">Goliyê Jorin</a>
                    <a href="Goliyê Jêrin.html" target="_blank" class="village-link">Goliyê Jêrin</a>
                    <a href="Holîlê (1).html" target="_blank" class="village-link">Holîlê</a>
                    <a href="Holîlê.html" target="_blank" class="village-link">Holîlê</a>
                    <a href="Hopka (1).html" target="_blank" class="village-link">Hopka</a>
                    <a href="Hopka.html" target="_blank" class="village-link">Hopka</a>
                    <a href="Kosa.html" target="_blank" class="village-link">Kosa</a>
                    <a href="Kum Reşê.html" target="_blank" class="village-link">Kum Reşê</a>
                    <a href="Kurê.html" target="_blank" class="village-link">Kurê</a>
                    <a href="Kûra.html" target="_blank" class="village-link">Kûra</a>
                    <a href="Maseka.html" target="_blank" class="village-link">Maseka</a>
                    <a href="Me'mala.html" target="_blank" class="village-link">Me'mala</a>
                    <a href="Memala.html" target="_blank" class="village-link">Memala</a>
                    <a href="Meydan Ekbez.html" target="_blank" class="village-link">Meydan Ekbez</a>
                    <a href="Penêreka.html" target="_blank" class="village-link">Penêreka</a>
                    <a href="Qere Baba.html" target="_blank" class="village-link">Qere Baba</a>
                    <a href="Qestela.html" target="_blank" class="village-link">Qestela</a>
                    <a href="Qopê.html" target="_blank" class="village-link">Qopê</a>
                    <a href="Qude.html" target="_blank" class="village-link">Qude</a>
                    <a href="Qêsim.html" target="_blank" class="village-link">Qêsim</a>
                    <a href="Reco.html" target="_blank" class="village-link">Reco</a>
                    <a href="Sorkê.html" target="_blank" class="village-link">Sorkê</a>
                    <a href="Sêmala.html" target="_blank" class="village-link">Sêmala</a>
                    <a href="Umera.html" target="_blank" class="village-link">Umera</a>
                    <a href="Welîklî.html" target="_blank" class="village-link">Welîklî</a>
                    <a href="Xirab Simaq.html" target="_blank" class="village-link">Xirab Simaq</a>
                    <a href="Xirabî Silûg.html" target="_blank" class="village-link">Xirabî Silûg</a>
                    <a href="Zerka.html" target="_blank" class="village-link">Zerka</a>
                    <a href="Çe'inka.html" target="_blank" class="village-link">Çe'inka</a>
                    <a href="Çençeliya.html" target="_blank" class="village-link">Çençeliya</a>
                    <a href="Çeqmaqê Mezin.html" target="_blank" class="village-link">Çeqmaqê Mezin</a>
                    <a href="Çeqmaqê Çûçik.html" target="_blank" class="village-link">Çeqmaqê Çûçik</a>
                    <a href="Çerxûta.html" target="_blank" class="village-link">Çerxûta</a>
                    <a href="Çiyê.html" target="_blank" class="village-link">Çiyê</a>
                    <a href="Çêqilme.html" target="_blank" class="village-link">Çêqilme</a>
                    <a href="Ĥec Xelîl.html" target="_blank" class="village-link">Ĥec Xelîl</a>
                    <a href="Ĥesen.html" target="_blank" class="village-link">Ĥesen</a>
                    <a href="Ĥucemala.html" target="_blank" class="village-link">Ĥucemala</a>
                    <a href="Ĥêcîka Jorin.html" target="_blank" class="village-link">Ĥêcîka Jorin</a>
                    <a href="Ĥêcîka Jêrin.html" target="_blank" class="village-link">Ĥêcîka Jêrin</a>
                    <a href="Şediya.html" target="_blank" class="village-link">Şediya</a>
                    <a href="Şêx.html" target="_blank" class="village-link">Şêx</a>
                    <a href="Şêx Bila.html" target="_blank" class="village-link">Şêx Bila</a>
                    <a href="Şêx Mihemed.html" target="_blank" class="village-link">Şêx Mihemed</a>
                </div>
            </div>

            <div class="nahiya-section" id="sharran">
                <h3 class="nahiya-title">Sharran</h3>
                <div class="villages-grid">
                    <a href="Alciya.html" target="_blank" class="village-link">Alciya</a>
                    <a href="Baflûnê.html" target="_blank" class="village-link">Baflûnê</a>
                    <a href="Be'rava.html" target="_blank" class="village-link">Be'rava</a>
                    <a href="Dewrîş.html" target="_blank" class="village-link">Dewrîş</a>
                    <a href="Diraqliya.html" target="_blank" class="village-link">Diraqliya</a>
                    <a href="Dêrsiwanê.html" target="_blank" class="village-link">Dêrsiwanê</a>
                    <a href="Dîkmedaşê.html" target="_blank" class="village-link">Dîkmedaşê</a>
                    <a href="Ereb Wêranê.html" target="_blank" class="village-link">Ereb Wêranê</a>
                    <a href="Gubelê (1).html" target="_blank" class="village-link">Gubelê</a>
                    <a href="Gubelê.html" target="_blank" class="village-link">Gubelê</a>
                    <a href="Keferomê.html" target="_blank" class="village-link">Keferomê</a>
                    <a href="Kortikê.html" target="_blank" class="village-link">Kortikê</a>
                    <a href="Mersewa.html" target="_blank" class="village-link">Mersewa</a>
                    <a href="Metîna.html" target="_blank" class="village-link">Metîna</a>
                    <a href="Meydankê.html" target="_blank" class="village-link">Meydankê</a>
                    <a href="Meşalê.html" target="_blank" class="village-link">Meşalê</a>
                    <a href="Omera.html" target="_blank" class="village-link">Omera</a>
                    <a href="Pelûsankê.html" target="_blank" class="village-link">Pelûsankê</a>
                    <a href="Qeredepe.html" target="_blank" class="village-link">Qeredepe</a>
                    <a href="Qestela Cindo.html" target="_blank" class="village-link">Qestela Cindo</a>
                    <a href="Qestelê Kîşik.html" target="_blank" class="village-link">Qestelê Kîşik</a>
                    <a href="Qetlebiyê.html" target="_blank" class="village-link">Qetlebiyê</a>
                    <a href="Qitmê.html" target="_blank" class="village-link">Qitmê</a>
                    <a href="Qurtqulaqê Mezin.html" target="_blank" class="village-link">Qurtqulaqê Mezin</a>
                    <a href="Qurtqulaqê Çûçik.html" target="_blank" class="village-link">Qurtqulaqê Çûçik</a>
                    <a href="Serê Kaniyê.html" target="_blank" class="village-link">Serê Kaniyê</a>
                    <a href="Serîncekê.html" target="_blank" class="village-link">Serîncekê</a>
                    <a href="Sînka.html" target="_blank" class="village-link">Sînka</a>
                    <a href="Tilîlaqê.html" target="_blank" class="village-link">Tilîlaqê</a>
                    <a href="Wêreganê.html" target="_blank" class="village-link">Wêreganê</a>
                    <a href="Zêtûnekê.html" target="_blank" class="village-link">Zêtûnekê</a>
                    <a href="Çema.html" target="_blank" class="village-link">Çema</a>
                    <a href="Îkîdamê.html" target="_blank" class="village-link">Îkîdamê</a>
                    <a href="Ĥilûbiyê Mezin.html" target="_blank" class="village-link">Ĥilûbiyê Mezin</a>
                    <a href="Ĥilûbiyê Çuçik.html" target="_blank" class="village-link">Ĥilûbiyê Çuçik</a>
                    <a href="Şera.html" target="_blank" class="village-link">Şera</a>
                </div>
            </div>

            <div class="nahiya-section" id="sheikhalhadid">
                <h3 class="nahiya-title">Sheikh al-Hadid</h3>
                <div class="villages-grid">
                    <a href="Alkana.html" target="_blank" class="village-link">Alkana</a>
                    <a href="Anqelê.html" target="_blank" class="village-link">Anqelê</a>
                    <a href="Baziya.html" target="_blank" class="village-link">Baziya</a>
                    <a href="Erendê.html" target="_blank" class="village-link">Erendê</a>
                    <a href="Kela.html" target="_blank" class="village-link">Kela</a>
                    <a href="Mistika.html" target="_blank" class="village-link">Mistika</a>
                    <a href="Qermîtliq.html" target="_blank" class="village-link">Qermîtliq</a>
                    <a href="Senarê.html" target="_blank" class="village-link">Senarê</a>
                    <a href="Tirmûşa.html" target="_blank" class="village-link">Tirmûşa</a>
                    <a href="Xelîl.html" target="_blank" class="village-link">Xelîl</a>
                    <a href="Çeqelê Jorin.html" target="_blank" class="village-link">Çeqelê Jorin</a>
                    <a href="Çeqelê Jêrin.html" target="_blank" class="village-link">Çeqelê Jêrin</a>
                    <a href="Çeqelê Ortê.html" target="_blank" class="village-link">Çeqelê Ortê</a>
                    <a href="Ĥec Bilal.html" target="_blank" class="village-link">Ĥec Bilal</a>
                    <a href="Şiketka.html" target="_blank" class="village-link">Şiketka</a>
                    <a href="Şiyê.html" target="_blank" class="village-link">Şiyê</a>
                </div>
            </div>

            <div class="nahiya-section" id="uncategorized">
                <h3 class="nahiya-title">Uncategorized</h3>
                <div class="villages-grid">
                    <a href="Keferlab.html" target="_blank" class="village-link">Keferlab</a>
                    <a href="Mûskê.html" target="_blank" class="village-link">Mûskê</a>
                    <a href="Naza.html" target="_blank" class="village-link">Naza</a>
                    <a href="Nisriyê.html" target="_blank" class="village-link">Nisriyê</a>
                    <a href="Omer Simo.html" target="_blank" class="village-link">Omer Simo</a>
                    <a href="Yazi Baĝ.html" target="_blank" class="village-link">Yazi Baĝ</a>
                    <a href="Şêx Seydo.html" target="_blank" class="village-link">Şêx Seydo</a>
                    <a href="Şêxorz.html" target="_blank" class="village-link">Şêxorz</a>
                    <a href="Şêxûtka.html" target="_blank" class="village-link">Şêxûtka</a>
                    <a href="Şîlte'tê.html" target="_blank" class="village-link">Şîlte'tê</a>
                    <a href="Şîtka.html" target="_blank" class="village-link">Şîtka</a>
                </div>
            </div></div>
    </div>

    <!-- Search Results Page -->
    <div class="search-results-page" id="search-results-page">
        <div class="search-results-container">
            <div class="search-results-header">
                <button class="back-button" onclick="returnToMain()">← Return to Village Directory</button>
                <h1 class="search-results-title" id="search-results-page-title">Search Results</h1>
                <div class="search-results-count" id="search-results-count"></div>
            </div>
            <div class="search-results-list" id="search-results-page-list">
            </div>
        </div>
    </div>

    <script>
        function scrollToSection(sectionId) {
            const element = document.getElementById(sectionId);
            if (element) {
                element.scrollIntoView({ 
                    behavior: 'smooth', 
                    block: 'start' 
                });
            }
        }

        // Theme toggle script (unchanged)
        const themeToggleBtn = document.getElementById('theme-toggle');
        const themeToggleDarkIcon = document.getElementById('theme-toggle-dark-icon');
        const themeToggleLightIcon = document.getElementById('theme-toggle-light-icon');
        if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
            themeToggleLightIcon.classList.remove('hidden');
        } else {
            document.documentElement.classList.remove('dark');
            themeToggleDarkIcon.classList.remove('hidden');
        }
        themeToggleBtn.addEventListener('click', function() {
            themeToggleDarkIcon.classList.toggle('hidden');
            themeToggleLightIcon.classList.toggle('hidden');
            if (localStorage.getItem('color-theme')) {
                if (localStorage.getItem('color-theme') === 'light') {
                    document.documentElement.classList.add('dark');
                    localStorage.setItem('color-theme', 'dark');
                } else {
                    document.documentElement.classList.remove('dark');
                    localStorage.setItem('color-theme', 'light');
                }
            } else {
                if (document.documentElement.classList.contains('dark')) {
                    document.documentElement.classList.remove('dark');
                    localStorage.setItem('color-theme', 'light');
                } else {
                    document.documentElement.classList.add('dark');
                    localStorage.setItem('color-theme', 'dark');
                }
            }
        });

        // Search functionality - EXACT SAME AS INDEX.HTML
let villageData = [];
let edgeSearchMap = new Map();
let lastSearchResults = [];
let lastSearchQuery = '';

document.addEventListener('DOMContentLoaded', function() {
    // Load graph data EXACTLY like index.html
    fetch('../landing/graph-data.json')
        .then(response => {
            if (!response.ok) throw new Error('Network response was not ok');
            return response.json();
        })
        .then(graph => {
            console.log('Graph data loaded');
            
            // Extract villages EXACTLY like index.html
            villageData = graph.nodes.filter(node => node.type === 'file').map(node => ({
                name: node.label,
                id: node.id,
                filename: node.id + '.html'
            }));

            // Create edge mapping EXACTLY like index.html
            graph.edges.forEach(edge => {
                const village = villageData.find(v => v.id === edge.from);
                if (village) {
                    if (!edgeSearchMap.has(edge.to.toLowerCase())) {
                        edgeSearchMap.set(edge.to.toLowerCase(), []);
                    }
                    edgeSearchMap.get(edge.to.toLowerCase()).push(village);
                }
            });

            console.log('Villages loaded:', villageData.length);
            console.log('Edge mappings:', edgeSearchMap.size);
        })
        .catch(error => {
            console.error("Failed to load graph-data.json:", error);
        });

    setupSearch();
});

function setupSearch() {
    const searchInput = document.getElementById('search-input');
    const searchResults = document.getElementById('search-results');
    
    let searchTimeout;

    searchInput.addEventListener('input', function() {
        clearTimeout(searchTimeout);
        searchTimeout = setTimeout(() => {
            performSearch();
        }, 300);
    });

    searchInput.addEventListener('keydown', function(e) {
        if (e.key === 'Enter') {
            e.preventDefault();
            showSearchResultsPage();
        }
    });

    document.addEventListener('click', function(e) {
        if (!searchInput.contains(e.target) && !searchResults.contains(e.target)) {
            searchResults.style.display = 'none';
        }
    });

    searchInput.addEventListener('focus', function() {
        if (searchInput.value.trim() && searchResults.innerHTML) {
            searchResults.style.display = 'block';
        }
    });
}

function escapeHtml(text) {
    const div = document.createElement('div');
    div.textContent = text;
    return div.innerHTML.replace(/\n/g, ' ').replace(/\r/g, ' ');
}

function highlightMatch(text, query) {
    if (!query) return escapeHtml(text);
    const escapedText = escapeHtml(text);
    const regex = new RegExp(`(${escapeHtml(query)})`, 'gi');
    return escapedText.replace(regex, '<span class="match-highlight">$1</span>');
}

function getSearchResults(query) {
    const resultsSet = new Set();
    
    // Search village names directly
    villageData.forEach(village => {
        if (village.name.toLowerCase().includes(query)) {
            resultsSet.add(JSON.stringify({
                village: village,
                matchType: 'Village Name',
                matchText: village.name,
                query: query
            }));
        }
    });

    // Search through edge connections
    edgeSearchMap.forEach((villages, edgeText) => {
        if (edgeText.includes(query)) {
            villages.forEach(village => {
                resultsSet.add(JSON.stringify({
                    village: village,
                    matchType: 'Related Content',
                    matchText: edgeText,
                    query: query
                }));
            });
        }
    });

    return Array.from(resultsSet).map(item => JSON.parse(item));
}

function performSearch() {
    const searchInput = document.getElementById('search-input');
    const searchResults = document.getElementById('search-results');
    const query = searchInput.value.trim().toLowerCase();
    
    if (!query) {
        searchResults.style.display = 'none';
        return;
    }

    const results = getSearchResults(query);
    lastSearchResults = results;
    lastSearchQuery = query;

    if (results.length === 0) {
        searchResults.innerHTML = '<div class="search-result-item"><div class="search-result-title">No results found</div></div>';
    } else {
        const dropdownResults = results.slice(0, 8);
        const hasMore = results.length > 8;
        
        const dropdownHTML = dropdownResults.map(result => {
            const safeName = escapeHtml(result.village.name);
            const safeFilename = result.village.filename.replace(/'/g, "\\'");
            const safeMatchType = escapeHtml(result.matchType);
            const highlightedMatch = highlightMatch(result.matchText, result.query);
            
            return `<div class="search-result-item" onclick="openVillage('${safeFilename}')">
                <div class="search-result-title">${safeName}</div>
                <div class="search-result-subtitle">${safeMatchType}: ${highlightedMatch}</div>
            </div>`;
        }).join('');
        
        const seeMoreHTML = hasMore ? `<div class="see-more-button" onclick="showSearchResultsPage()">
            See More (${results.length - 8} additional results)
        </div>` : '';
        
        searchResults.innerHTML = dropdownHTML + seeMoreHTML;
    }
    
    searchResults.style.display = 'block';
}

function showSearchResultsPage() {
    const query = document.getElementById('search-input').value.trim();
    const results = query ? getSearchResults(query.toLowerCase()) : lastSearchResults;
    
    // Hide main layout
    document.querySelector('.header-section').style.display = 'none';
    document.querySelector('.main-content').style.display = 'none';
    document.getElementById('search-results').style.display = 'none';
    
    // Show search results page
    document.getElementById('search-results-page').style.display = 'block';
    
    // Update page content
    const safeQuery = escapeHtml(query || lastSearchQuery);
    document.getElementById('search-results-page-title').textContent = `Search Results for "${safeQuery}"`;
    document.getElementById('search-results-count').textContent = `${results.length} result${results.length !== 1 ? 's' : ''} found`;
    
    const list = document.getElementById('search-results-page-list');
    if (results.length === 0) {
        list.innerHTML = '<div style="text-align: center; padding: 40px; color: var(--subtext-color);">No results found</div>';
    } else {
        const listHTML = results.map(result => {
            const safeName = escapeHtml(result.village.name);
            const safeFilename = result.village.filename.replace(/'/g, "\\'");
            const safeMatchType = escapeHtml(result.matchType);
            const highlightedMatch = highlightMatch(result.matchText, result.query);
            
            return `<div class="search-result-card" onclick="openVillage('${safeFilename}')">
                <div class="search-result-card-title">${safeName}</div>
                <div class="search-result-card-subtitle">Found in: ${safeMatchType}</div>
                <div class="search-result-card-description">Match: ${highlightedMatch}</div>
            </div>`;
        }).join('');
        
        list.innerHTML = listHTML;
    }
}

function returnToMain() {
    // Show main layout
    document.querySelector('.header-section').style.display = 'block';
    document.querySelector('.main-content').style.display = 'block';
    
    // Hide search results page
    document.getElementById('search-results-page').style.display = 'none';
}

function openVillage(filename) {
    console.log('Opening village:', filename);
    window.open(filename, '_blank');
    const searchResults = document.getElementById('search-results');
    if (searchResults) {
        searchResults.style.display = 'none';
    }
}
    </script>
</body>
</html>